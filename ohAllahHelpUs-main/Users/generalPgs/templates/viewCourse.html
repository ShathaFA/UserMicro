{% extends 'base.html' %}
{% load static %}
{% block content %}
<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8" />
  <title>Second Page Of Course Create</title>
  <!-- custom link -->
  <link rel="stylesheet" href="{% static 'css/CourseInner.css' %}" />
  <!-- Font Awesome CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
  <!-- font aw icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
  <div class="btn">
    <span class="fas fa-bars"></span>
  </div>

  <!-- start the sidebar section -->
  <nav class="sidebar">
    <!--name of the sidebar, which is the name of the course  -->
    <div id="courseTitle" class="text courseTitle"></div>
    <!-- sections + lessons part -->
    <ul></ul>
  </nav>

  <div class="course-content" style="display: none">
    <img class="coures-inner-img" src="" alt="" />
    <div class="header">
      <h1 class="Course-Title"></h1>
      <div class="courese-info">
        <h3 class="Course-topic"></h3>
        <h3 class="Course-deficality"></h3>
      </div>
      <p class="Course-description"></p>
      <div id="rating-container">
        <!-- Assuming each star calls the `rateCourse` function with the rating value -->
        <span class="star" onclick="rateCourse(1)">&#9734;</span>
        <span class="star" onclick="rateCourse(2)">&#9734;</span>
        <span class="star" onclick="rateCourse(3)">&#9734;</span>
        <span class="star" onclick="rateCourse(4)">&#9734;</span>
        <span class="star" onclick="rateCourse(5)">&#9734;</span>
    </div>
    </div>
  </div>

  <br />
  <div action="" class="form1" style="display: none">
    <div class="header">
      <h1 id="sectionTitle">Section Title</h1>
      <div>
        <h3 id="editSectionDescription">Section Description</h3>
        <h3 id="lessonTitle">Lesson Title</h3>
      </div>
      <p id="content-display"></p>


      <button class="button-voise" id="playButton" onclick="speakText()"><i class="fas fa-play"></i></button>
      <button class="button-voise" id="pauseButton" onclick="stopSpeaking()"><i class="fas fa-pause"></i></button>
      <button class="button-voise" id="completeLessonButton"><i class="fas fa-check-circle"></i> Mark as
        Completed</button>
    </div>
  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <!-- custom js link -->
  <script src="{% static 'js/viewCourse.js' %}"></script>

  <!-- JavaScript code for speech recognition and editor control -->
  <script>
    let utterance;

    // Function to toggle editor visibility
    function toggleEditorVisibility() {
      const editorDiv = document.querySelector(".form1");
      editorDiv.style.display = editorDiv.style.display === "none" ? "block" : "none";
    }

    // Function to speak text using Web Speech API
    function speakText() {
      const sectionTitle = document.getElementById("sectionTitle").textContent.trim();
      const editSectionDescription = document.getElementById("editSectionDescription").textContent.trim();
      const lessonTitle = document.getElementById("lessonTitle").textContent.trim();
      const contentDisplay = document.getElementById("content-display").textContent.trim();

      const textToSpeak = `${sectionTitle}. ${editSectionDescription}. ${lessonTitle}. ${contentDisplay}`;
      utterance = new SpeechSynthesisUtterance(textToSpeak);
      speechSynthesis.speak(utterance);
    }

    // Function to stop text-to-speech
    function stopSpeaking() {
      if (utterance) {
        speechSynthesis.cancel();
      }
    }
  </script>
</body>

</html>
{% endblock %}